<h2>
  Zones
  <button type="button" data-toggle="modal" data-target="#newZoneModal" class="float-right btn btn-sm btn-primary ml-2"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add zone</button>
</h2>

<p><input type="search" class="form-control" placeholder="Search" ng-model="query" autofocus></p>

<table class="table table-hover table-bordered table-striped">
  <thead class="thead-dark">
    <tr>
      <th>
	Domain name
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="zone in zones | filter: query">
      <td ng-click="show(zone)">
	{{ zone | stripHTML }}
      </td>
      <td>
	<button type="button" ng-click="show(zone)" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
	<button type="button" ng-click="deleteZone(zone)" class="btn btn-sm btn-danger"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
      </td>
    </tr>
  </tbody>
</table>

<div class="modal fade" id="newZoneModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content bg-light">
      <div class="modal-header">
	<h5 class="modal-title">Attach new zone</h5>
	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  <span aria-hidden="true">&times;</span>
	</button>
      </div>
      <form ng-submit="attachZone()">
	<div class="modal-body">
	  <div class="form-group">
	    <label for="domainname">Domain name</label>
	    <input class="form-control" id="domainname" aria-describedby="dnHelp" placeholder="example.com">
	    <small id="dnHelp" class="form-text text-muted">Fill here the domain name you would like to manage with LibreDNS.</small>
	  </div>
	</div>
	<div class="modal-footer">
	  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	  <button type="button" class="btn btn-primary" ng-click="attachZone()">Attach new zone</button>
	</div>
      </form>
    </div>
  </div>
</div>

<script>
  $('#newZoneModal').on('shown.bs.modal', function (event) {
      $('#domainname').val("");
      $('#domainname').focus();
  });
</script>
